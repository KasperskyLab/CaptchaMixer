# Building

## Using `dotnet`

The solution is ready to be built without any external dependencies. All you need is .NET SDK 8.0+ installed.

Run from root directory:

```
dotnet build
dotnet test
```

## NUKE build project

The build project is located in `build` directory.
It compiles into a console application so can be used right away.

It builds the solution, runs unit tests and creates the library NuGet package in fully automated mode.

Examples of commands to run from `build` directory:

```
# Running default build pipeline
dotnet run

# Running restore, compile and test targets (depend on each other), without packaging
dotnet run -- Test

# Clean target removes all .bin and .obj directories
# it is not executed by default, so shall be called manually when needed
dotnet run -- Clean -Skip

# Cleaning and then running the entire pipeline
dotnet run -- Clean Pack

# Creating a NuGet package without rerunning build and test targets
dotnet run -- Pack -Skip

# Pack target itself by default packs the library without preliminarily building it
# if you only need to build and pack the library itself, use the force build flag
dotnet run -- Pack -Skip -ForceBuild
```

For more details on using NUKE builds, see [official documentation](https://nuke.build/docs/introduction/).

### Build scripts

There are also several scripts (build.cmd, build.ps1, build.sh) in the root repo directory which utilize the build project.

These are default scripts generated by NUKE and they do more than just running the build project itself.
They also check the version of installed .NET SDK and install it if it's missing.

So those scripts are more appropriate for running on build servers.
For local development we recommend running the build project directly.